<div style="max-width:420px;margin:0 auto;text-align:center;font-family:Arial;">
  <h3 id="introTitle">–ë–ª–∏–∏–∏–π! –Ø –ø—Ä–æ—Å–ø–∞–ª–∞! üò±</h3>
  <p id="introText">
    –î–æ –º–∞–Ω–∏–∫—é—Ä–∞ –æ—Å—Ç–∞–ª–æ—Å—å 3 –º–∏–Ω—É—Ç—ã!<br>
    –ü–æ–º–æ–≥–∏ –¥–æ–±–µ–∂–∞—Ç—å –≤–æ–≤—Ä–µ–º—è üíÖ<br><br>
    –ú–∞–ª–µ–Ω—å–∫–∏–π —Ñ–ª–∞–∫–æ–Ω ‚Äî –æ–±—ã—á–Ω—ã–π –ø—Ä—ã–∂–æ–∫<br>
    –ë–æ–ª—å—à–æ–π —Ñ–ª–∞–∫–æ–Ω ‚Äî –¥–≤–æ–π–Ω–æ–π –ø—Ä—ã–∂–æ–∫
  </p>
  <button id="startBtn"
    style="padding:12px 26px;font-size:18px;border:0;border-radius:10px;background:#ad274c;color:#fff;">
    –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
  </button>

  <canvas id="game" width="360" height="640"
    style="display:block;margin:20px auto;background:#111;border-radius:18px;border:3px solid #ad274c;">
  </canvas>
</div>

<script>
/* ====== –ö–ê–†–¢–ò–ù–ö–ò ====== */
const HERO_IMG = "https://r2.syntx.ai/user_599754215192909656/uploaded/9ee5a1bc820fcaca3e30b61ff6dc9df2_d6e46b1b-34b3-423a-b5ce-a8113e245454.png";
const BOTTLE_IMG = "https://r2.syntx.ai/user_599754215192909656/uploaded/3761af60127d2d19f2921b9f12575ee0_2e5a645e-1764-4641-ad58-800cf5a84aa8.png";
const BG_IMG = "https://r2.syntx.ai/user_599754215192909656/uploaded/f4c459320df30922c87a73e164db4eec_4c71ac01-c20a-4d41-9c8f-c670d3518600.png";

/* ====== CANVAS ====== */
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

/* ====== –ö–û–ù–°–¢–ê–ù–¢–´ ====== */
const GRAVITY = 0.9;
const JUMP_FORCE = -14;
const SPEED = 4;
const ROAD_OFFSET = 40;
const MAX_JUMP = 2;

/* ====== –°–ü–†–ê–ô–¢ ====== */
const heroImg = new Image(); heroImg.src = HERO_IMG;
const bottleImg = new Image(); bottleImg.src = BOTTLE_IMG;
const bgImg = new Image(); bgImg.src = BG_IMG;

const HERO_FRAME_W = 1671 / 2;
const HERO_FRAME_H = 981;

/* ====== –ò–ì–†–û–ö ====== */
const player = {
  x: 60,
  y: 0,
  w: 70,
  h: 90,
  vy: 0,
  jumpCount: 0,
  frame: 0,
  animTimer: 0
};

/* ====== –°–û–°–¢–û–Ø–ù–ò–ï ====== */
let obstacles = [];
let score = 0;
let gameStarted = false;
let gameOver = false;

/* ====== –§–£–ù–ö–¶–ò–ò ====== */
function groundY() {
  return canvas.height - 120 - ROAD_OFFSET;
}

function jump() {
  if (!gameStarted || gameOver) return;
  if (player.jumpCount < MAX_JUMP) {
    player.vy = JUMP_FORCE;
    player.jumpCount++;
  }
}

/* ====== –í–í–û–î ====== */
let lastTap = 0;
canvas.addEventListener("touchstart", e => {
  e.preventDefault();
  const now = Date.now();
  if (now - lastTap > 150) {
    jump();
    lastTap = now;
  }
}, { passive:false });

canvas.addEventListener("mousedown", e => {
  e.preventDefault();
  jump();
});

/* ====== –ü–†–ï–ü–Ø–¢–°–¢–í–ò–Ø ====== */
function spawnObstacle() {
  const big = Math.random() < 0.4;
  obstacles.push({
    x: canvas.width + 20,
    y: groundY() - (big ? 70 : 50),
    w: big ? 40 : 26,
    h: big ? 70 : 50,
    big
  });
}

setInterval(() => {
  if (gameStarted && !gameOver) spawnObstacle();
}, 1600);

/* ====== –°–¢–û–õ–ö–ù–û–í–ï–ù–ò–ï ====== */
function isColliding(a, b) {
  return (
    a.x + 8 < b.x + b.w - 8 &&
    a.x + a.w - 8 > b.x + 8 &&
    a.y + 8 < b.y + b.h - 8 &&
    a.y + a.h - 8 > b.y + 8
  );
}

/* ====== –û–ë–ù–û–í–õ–ï–ù–ò–ï ====== */
function update() {
  if (!gameStarted || gameOver) return;

  player.vy += GRAVITY;
  player.y += player.vy;

  if (player.y >= groundY()) {
    player.y = groundY();
    player.vy = 0;
    player.jumpCount = 0;
  }

  // –ê–Ω–∏–º–∞—Ü–∏—è –¢–û–õ–¨–ö–û –∫–æ–≥–¥–∞ –Ω–∞ –∑–µ–º–ª–µ
  if (player.jumpCount === 0) {
    player.animTimer += 16;
    if (player.animTimer > 150) {
      player.frame = 1 - player.frame;
      player.animTimer = 0;
    }
  }

  obstacles.forEach(o => o.x -= SPEED);
  obstacles = obstacles.filter(o => o.x + o.w > 0);

  obstacles.forEach(o => {
    if (isColliding(player, o)) {
      gameOver = true;
    }
  });

  score++;
}

/* ====== –û–¢–†–ò–°–û–í–ö–ê ====== */
function draw() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  if (bgImg.complete) {
    ctx.drawImage(bgImg,0,0,canvas.width,canvas.height);
  }

  // –¥–æ—Ä–æ–≥–∞
  ctx.fillStyle = "#222";
  ctx.fillRect(0, groundY()+player.h, canvas.width, canvas.height);

  // –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
  obstacles.forEach(o => {
    ctx.drawImage(bottleImg, o.x, o.y, o.w, o.h);
  });

  // –≥–µ—Ä–æ–π
  const frameX = player.frame * HERO_FRAME_W;
  ctx.drawImage(
    heroImg,
    frameX, 0, HERO_FRAME_W, HERO_FRAME_H,
    player.x, player.y, player.w, player.h
  );

  // —Å—á—ë—Ç
  ctx.fillStyle = "#fff";
  ctx.font = "18px Arial";
  ctx.fillText("–°—á—ë—Ç: " + score, 16, 30);

  if (gameOver) {
    ctx.fillStyle = "#ad274c";
    ctx.font = "22px Arial";
    ctx.textAlign = "center";
    ctx.fillText("–û–ø–æ–∑–¥–∞–ª–∞ üò≠", canvas.width/2, canvas.height/2);
    ctx.font = "16px Arial";
    ctx.fillText("–¢–∞–ø–Ω–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ", canvas.width/2, canvas.height/2+30);
  }
}

/* ====== –¶–ò–ö–õ ====== */
function loop() {
  update();
  draw();
  requestAnimationFrame(loop);
}

/* ====== –°–¢–ê–†–¢ ====== */
document.getElementById("startBtn").onclick = () => {
  gameStarted = true;
  gameOver = false;
  score = 0;
  obstacles = [];
  player.y = groundY();
  player.vy = 0;
  player.jumpCount = 0;
  document.getElementById("introTitle").style.display = "none";
  document.getElementById("introText").style.display = "none";
  document.getElementById("startBtn").style.display = "none";
};

canvas.addEventListener("click", () => {
  if (gameOver) {
    gameOver = false;
    score = 0;
    obstacles = [];
    player.y = groundY();
  }
});

player.y = groundY();
loop();
</script>

